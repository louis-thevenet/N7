#import "../../templates/template.typ": *
#import "@preview/fletcher:0.3.0" as fletcher:node, edge
#import "@preview/codelst:1.0.0": sourcecode
#set page(height: auto)

#show: project.with(
  title: "Architecture des ordinateurs S6 - TDs",
  date: "8 Février, 2024",
)

= TD1
== Adressage d'adresses
=== Lecture d'adresses
#table(
  columns: 6,
  align: center,
  [ Adresse ],
  [host/net],
  [\@net],
  [\@broadcast],
  [type],
  [Spécificité],
  [80.2.3.12/16],
  [host],
  [80.2.0.0],
  [80.2.255.255],
  [A],
  [],
  [147.127.2.0/16],
  [host],
  [147.127.0.0],
  [147.127.255.255],
  [B],
  [],
  [1.2.3.4/5],
  [host],
  [0.0.0.0 #footnote(
      $0000 space 0001 dots and 1111 space 1000 = 0000 space 0000 => "@net" = 0. dots$,
    )],
  [7.255.255.255],
  [A #footnote("On parle pas de classe quand on utilise un masque")],
  [],
  [147.127.0.0 : 255.255.255.0 #footnote("C'est une manière de représenter un masque 24 bits")],
  [net],
  [147.127.0.0],
  [147.127.0.255],
  [B],
  [],
  [192.168.0.0 : 255.255.0.0],
  [net],
  [192.168.0.0],
  [192.168.255.255],
  [C],
  [privé],
  [223.4.17 #footnote(text($00010$, fill: red) + $001$).0 : 255.255.248.0],
  [host],
  [223.4.16.0],
  [223.4.23.255],
  [],
  [],
  [10.0.0.0],
  [net],
  [10.0.0.0],
  [10.255.255.255],
  [A],
  [privé],
  [255.255.255.255],
  [],
  [],
  [],
  [],
  [diff. universelle],
  [127.0.0.1],
  [],
  [],
  [],
  [],
  [loopback],
)

=== Découpage d'une plage d'adresses
#figure(
  caption: "Les 4 réseaux qui communiquent via le réseau " + $I$,
  image("./schema_td1.png"),
)
#fletcher.diagram(
  node-fill: rgb("0f7"),
  node-outset: 2pt,
  node((0, 0), "40.0.0.0/24"),
  node((-1, -1), $space$),
  node((1, -1), "@B:40.0.0.128/25"),
  edge((0, 0), (-1, -1), $0$, "-"),
  edge((0, 0), (1, -1), $1$, "-"),
  node((0.5, -2), "@A:40.0.0.64/26"),
  edge((-1, -1), (0.5, -2), $1$, "-"),
  node((-2, -2), $space$),
  edge((-1, -1), (-2, -2), $0$, "-"),
  node((0.25, -3), "@C:40.0.0.32/27"),
  edge((-2, -2), (0.25, -3), $1$, "-"),
  node((-2, -3), $space$),
  edge((-2, -2), (-2, -3), $0$, "-"),
  node((0.125, -4), "@D:40.0.0.16/28"),
  edge((-2, -3), (0.125, -4), $1$, "-"),
  node((-2, -4), $space$),
  edge((-2, -3), (-2, -4), $0$, "-"),
  node((0.0625, -5), "@I:40.0.0.8/29"),
  edge((-2, -4), (0.0625, -5), $1$, "-"),
  node((-2, -5), $space$),
  edge((-2, -4), (-2, -5), $0$, "-"),
)
== Table de routage
=== Machine du réseau A

#table(
  columns: 4,
  align: center,
  [Dest],
  [Mask],
  [Gateway],
  [Interface],
  [40.0.0.64],
  [255.255.255.192],
  [$times.big$],
  [eth1],
  [0.0.0.0],
  [0.0.0.0],
  [40.0.0.0/26],
) == = RouteurAversI#table(
  columns: 5,
  align: center,
  [Réseau],
  [Dest],
  [Mask],
  [Gateway],
  [Interface],
  [A],
  [40.0.0.64],
  [255.255.255.192],
  [],
  [],
  [I],
  [40.0.0.8],
  [255.255.255.248],
  [],
  [],
  [D],
  [40.0.0.16],
  [255.255.255.240],
  [],
  [],
  [C],
  [40.0.0.32],
  [255.255.255.224],
  [],
  [],
  [B],
  [40.0.0.128],
  [255.255.255.128],
  [],
  [],
)