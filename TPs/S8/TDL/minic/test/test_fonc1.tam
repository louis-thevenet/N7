;Function afficherMessage start
JUMP end_afficherMessage
afficherMessage
LOADL 5
;Load variable a from offset 3
;Print a
LOAD (1) 3[LB]
SUBR IOut
end_afficherMessage
;Function addition start
JUMP end_addition
;(x + y)
addition
LOAD (1) -1[LB]
LOAD (1) -1[LB]
SUBR IAdd
RETURN (1) 1
end_addition
CALL (LB) afficherMessage
LOADL 5
LOADL 7
CALL (LB) addition
;Load variable resultat from offset 0
;(resultat + 54)
LOAD (1) 0[SB]
LOADL 54
SUBR IAdd
;Function creerPoint start
JUMP end_creerPoint
creerPoint
LOAD (1) -1[LB]
LOAD (1) -1[LB]
;Load variable p from offset 3
LOADL 3
RETURN (1) 1
end_creerPoint
;Assign p1
LOADL 3
LOADL 4
CALL (LB) creerPoint
LOADI (2)
;Load variable p1 from offset 2
;Load field x from record p1, offset 0
;Print p1.x
LOADL 2
LOADL 0
SUBR IAdd
LOADI (1)
SUBR IOut
end_afficherMessage
;Load variable p1 from offset 2
;Load field y from record p1, offset 1
;Print p1.y
LOADL 2
LOADL 1
SUBR IAdd
LOADI (1)
SUBR IOut
end_afficherMessage
HALT

